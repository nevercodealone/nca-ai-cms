import{r as d}from"./index.WFquGv8Z.js";var S={exports:{}},g={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A;function _(){if(A)return g;A=1;var c=Symbol.for("react.transitional.element"),y=Symbol.for("react.fragment");function u(s,o,a){var n=null;if(a!==void 0&&(n=""+a),o.key!==void 0&&(n=""+o.key),"key"in o){a={};for(var l in o)l!=="key"&&(a[l]=o[l])}else a=o;return o=a.ref,{$$typeof:c,type:s,key:n,ref:o!==void 0?o:null,props:a}}return g.Fragment=y,g.jsx=u,g.jsxs=u,g}var W;function N(){return W||(W=1,S.exports=_()),S.exports}var e=N();function q(){const[c,y]=d.useState(""),[u,s]=d.useState(null),[o,a]=d.useState(null),[n,l]=d.useState(null),[f,k]=d.useState(!1),[T,R]=d.useState(!1),[B,C]=d.useState(!1),[m,P]=d.useState(!1),[h,b]=d.useState(!1),G=t=>{y(t),a(null),l(null),b(!1),s(null)},J=t=>{try{return new URL(t),!0}catch{return!1}},v=()=>c.trim()?J(c.trim())?"url":"keywords":"empty",w=()=>c.trim().length>0,z=async()=>{const t=v(),i=await fetch("/api/generate-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t==="url"?{url:c.trim()}:{keywords:c.trim()})});if(!i.ok){const x=await i.json();throw new Error(x.error||"Text generation failed")}return i.json()},E=async t=>{const i=await fetch("/api/generate-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t})});if(!i.ok){const x=await i.json();throw new Error(x.error||"Image generation failed")}return i.json()},D=async()=>{if(w()){k(!0),s(null),a(null),l(null);try{const t=await z();if(a(t),t?.title){const i=await E(t.title);l(i)}}catch(t){s(t instanceof Error?t.message:"Generation failed")}finally{k(!1)}}},O=async()=>{if(w()){R(!0),s(null);try{const t=await z();a(t)}catch(t){s(t instanceof Error?t.message:"Text generation failed")}finally{R(!1)}}},V=async()=>{if(o?.title){C(!0),s(null);try{const t=await E(o.title);l(t)}catch(t){s(t instanceof Error?t.message:"Image generation failed")}finally{C(!1)}}},F=async()=>{if(!(!o||!n)){P(!0),s(null);try{const t={...o,imageAlt:n.alt},i=await fetch("/api/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!i.ok){const j=await i.json();throw new Error(j.error||"Article save failed")}const{folderPath:x}=await i.json(),L=await fetch("/api/save-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:n.url,folderPath:x})});if(!L.ok){const j=await L.json();throw new Error(j.error||"Image save failed")}b(!0)}catch(t){s(t instanceof Error?t.message:"Publish failed")}finally{P(!1)}}},H=()=>{y(""),a(null),l(null),b(!1),s(null)},M=async()=>{await fetch("/api/logout",{method:"POST"}),window.location.href="/login"},I=o!==null,p=f||T||B||m;return e.jsxs("div",{style:r.container,children:[e.jsxs("div",{style:r.panel,children:[e.jsxs("div",{style:r.headerRow,children:[e.jsx("h2",{style:r.heading,children:"Content Generator"}),e.jsx("button",{onClick:M,style:r.logoutButton,children:"Logout"})]}),h?e.jsxs("div",{style:r.successBox,children:[e.jsx("div",{style:r.successIcon,children:e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),e.jsx("h3",{style:r.successTitle,children:"Artikel veröffentlicht!"}),e.jsx("p",{style:r.successPath,children:o?.filepath}),e.jsx("button",{onClick:H,style:r.newButton,children:"Neuen Artikel erstellen"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:r.field,children:[e.jsx("label",{style:r.label,children:"URL oder Thema"}),e.jsx("input",{type:"text",value:c,onChange:t=>G(t.target.value),placeholder:"https://... oder Keywords eingeben",style:r.input,disabled:p}),e.jsx("span",{style:r.hint,children:v()==="url"?"URL erkannt – Inhalt wird analysiert":v()==="keywords"?"Keywords erkannt – Recherche wird durchgeführt":"URL für Analyse oder Keywords für Recherche"})]}),w()&&!I&&e.jsx("button",{onClick:D,disabled:f,style:{...r.button,...r.generateButton,opacity:f?.6:1,cursor:f?"not-allowed":"pointer"},children:f?e.jsxs("span",{style:r.buttonContent,children:[e.jsx("span",{style:r.spinner}),"Generiere Bild & Text..."]}):"Generieren"}),I&&e.jsxs("div",{style:r.actionSection,children:[e.jsxs("div",{style:r.regenerateRow,children:[e.jsx("button",{onClick:V,disabled:p,style:{...r.button,...r.secondaryButton,opacity:p?.6:1,cursor:p?"not-allowed":"pointer"},children:B?"Generiere...":"Bild neu"}),e.jsx("button",{onClick:O,disabled:p,style:{...r.button,...r.secondaryButton,opacity:p?.6:1,cursor:p?"not-allowed":"pointer"},children:T?"Generiere...":"Text neu"})]}),e.jsx("button",{onClick:F,disabled:m||!n,style:{...r.button,...r.publishButton,opacity:m||!n?.6:1,cursor:m||!n?"not-allowed":"pointer"},children:m?e.jsxs("span",{style:r.buttonContent,children:[e.jsx("span",{style:r.spinner}),"Veröffentliche..."]}):"Veröffentlichen"})]})]}),u&&e.jsx("div",{style:r.error,children:u})]}),e.jsxs("div",{style:r.previewArea,children:[n&&e.jsxs("div",{style:{...r.preview,...h?r.publishedPreview:{}},children:[e.jsxs("div",{style:r.previewHeader,children:[e.jsxs("h3",{style:r.previewTitle,children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),e.jsx("polyline",{points:"21 15 16 10 5 21"})]}),e.jsx("span",{children:"Bild"}),h&&e.jsx("span",{style:r.publishedBadge,children:"Veröffentlicht"})]}),e.jsx("span",{style:r.filepath,children:n.filepath})]}),e.jsxs("div",{style:r.imagePreview,children:[e.jsx("img",{src:n.url,alt:n.alt,style:r.image}),e.jsx("p",{style:r.imageAlt,children:n.alt})]})]}),o&&e.jsxs("div",{style:{...r.preview,...h?r.publishedPreview:{}},children:[e.jsxs("div",{style:r.previewHeader,children:[e.jsxs("h3",{style:r.previewTitle,children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),e.jsx("span",{children:"Text"}),h&&e.jsx("span",{style:r.publishedBadge,children:"Veröffentlicht"})]}),e.jsx("span",{style:r.filepath,children:o.filepath})]}),e.jsxs("div",{style:r.frontmatter,children:[e.jsxs("div",{style:r.frontmatterRow,children:[e.jsx("span",{style:r.frontmatterLabel,children:"Titel"}),e.jsx("span",{style:r.frontmatterValue,children:o.title})]}),e.jsxs("div",{style:r.frontmatterRow,children:[e.jsx("span",{style:r.frontmatterLabel,children:"Beschreibung"}),e.jsx("span",{style:r.frontmatterValue,children:o.description})]})]}),e.jsx("div",{style:r.content,children:e.jsx("pre",{style:r.markdown,children:o.content})})]})]})]})}const r={container:{display:"grid",gap:"2rem",gridTemplateColumns:"380px 1fr"},panel:{background:"var(--color-surface, #141416)",borderRadius:"16px",padding:"2rem",height:"fit-content",border:"1px solid var(--color-border, #2a2a2e)"},headerRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",paddingBottom:"1.5rem",borderBottom:"1px solid var(--color-border, #2a2a2e)"},heading:{fontFamily:'var(--font-display, "Playfair Display", Georgia, serif)',fontSize:"1.5rem",fontWeight:600,letterSpacing:"-0.02em",margin:0,color:"var(--color-text, #faf9f7)"},logoutButton:{padding:"0.5rem 1rem",background:"transparent",border:"1px solid var(--color-border-accent, #3a3a40)",borderRadius:"6px",color:"var(--color-text-muted, #706d68)",cursor:"pointer",fontSize:"0.75rem",fontWeight:500,textTransform:"uppercase",letterSpacing:"0.05em",transition:"all 0.2s ease"},field:{marginBottom:"1.5rem"},label:{display:"block",marginBottom:"0.75rem",color:"var(--color-text-muted, #706d68)",fontSize:"0.75rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.12em"},input:{width:"100%",padding:"1rem",background:"var(--color-bg, #0a0a0b)",border:"1px solid var(--color-border, #2a2a2e)",borderRadius:"8px",color:"var(--color-text, #faf9f7)",fontSize:"1rem",transition:"border-color 0.2s ease"},hint:{display:"block",marginTop:"0.5rem",fontSize:"0.75rem",color:"var(--color-text-muted, #706d68)"},button:{padding:"1rem 1.25rem",background:"var(--color-surface-elevated, #1a1a1d)",border:"none",borderRadius:"8px",color:"var(--color-text, #faf9f7)",cursor:"pointer",fontSize:"0.9rem",fontWeight:600,transition:"all 0.2s ease"},generateButton:{background:"var(--color-primary, #e63946)",width:"100%",padding:"1.25rem",fontSize:"1rem",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.05em",boxShadow:"0 4px 20px rgba(230, 57, 70, 0.3)"},buttonContent:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.75rem"},spinner:{width:"18px",height:"18px",border:"2px solid rgba(255,255,255,0.3)",borderTopColor:"#fff",borderRadius:"50%",animation:"spin 0.8s linear infinite"},actionSection:{display:"flex",flexDirection:"column",gap:"0.75rem"},regenerateRow:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},secondaryButton:{background:"var(--color-surface-accent, #222226)",fontSize:"0.875rem",padding:"1rem"},publishButton:{background:"var(--color-success, #4ade80)",color:"#000",width:"100%",padding:"1.25rem",fontSize:"1rem",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.05em",boxShadow:"0 4px 20px rgba(74, 222, 128, 0.3)"},successBox:{textAlign:"center",padding:"3rem 1.5rem",background:"var(--color-success-muted, rgba(74, 222, 128, 0.12))",borderRadius:"12px",border:"1px solid rgba(74, 222, 128, 0.3)"},successIcon:{color:"var(--color-success, #4ade80)",marginBottom:"1.5rem",display:"flex",justifyContent:"center"},successTitle:{fontFamily:'var(--font-display, "Playfair Display", Georgia, serif)',fontSize:"1.5rem",fontWeight:600,marginBottom:"0.75rem",color:"var(--color-text, #faf9f7)"},successPath:{color:"var(--color-text-muted, #706d68)",fontSize:"0.875rem",fontFamily:'var(--font-mono, "JetBrains Mono", monospace)',marginBottom:"2rem",wordBreak:"break-all"},newButton:{padding:"1rem 2rem",background:"var(--color-primary, #e63946)",border:"none",borderRadius:"8px",color:"#fff",cursor:"pointer",fontSize:"1rem",fontWeight:600,boxShadow:"0 4px 20px rgba(230, 57, 70, 0.3)"},error:{marginTop:"1.5rem",padding:"1rem",background:"var(--color-error-muted, rgba(248, 113, 113, 0.12))",border:"1px solid rgba(248, 113, 113, 0.3)",borderRadius:"8px",color:"var(--color-error, #f87171)",fontSize:"0.9rem"},previewArea:{display:"flex",flexDirection:"column",gap:"1.5rem"},preview:{background:"var(--color-surface, #141416)",borderRadius:"16px",overflow:"hidden",border:"1px solid var(--color-border, #2a2a2e)"},publishedPreview:{borderColor:"var(--color-success, #4ade80)",boxShadow:"0 0 24px rgba(74, 222, 128, 0.15)"},previewHeader:{padding:"1.25rem 1.5rem",borderBottom:"1px solid var(--color-border, #2a2a2e)",display:"flex",justifyContent:"space-between",alignItems:"center",background:"var(--color-surface-elevated, #1a1a1d)"},previewTitle:{fontSize:"0.875rem",fontWeight:600,margin:0,display:"flex",alignItems:"center",gap:"0.75rem",textTransform:"uppercase",letterSpacing:"0.05em",color:"var(--color-text, #faf9f7)"},publishedBadge:{background:"var(--color-success, #4ade80)",color:"#000",padding:"0.25rem 0.625rem",borderRadius:"9999px",fontSize:"0.65rem",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.05em"},filepath:{color:"var(--color-text-muted, #706d68)",fontSize:"0.75rem",fontFamily:'var(--font-mono, "JetBrains Mono", monospace)'},frontmatter:{padding:"1.25rem 1.5rem",borderBottom:"1px solid var(--color-border, #2a2a2e)",display:"flex",flexDirection:"column",gap:"1rem"},frontmatterRow:{display:"flex",flexDirection:"column",gap:"0.25rem"},frontmatterLabel:{fontSize:"0.7rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.1em",color:"var(--color-text-muted, #706d68)"},frontmatterValue:{fontSize:"0.9rem",color:"var(--color-text-accent, #e8e6e1)"},content:{padding:"1.5rem",maxHeight:"450px",overflow:"auto",background:"var(--color-bg, #0a0a0b)"},markdown:{fontFamily:'var(--font-mono, "JetBrains Mono", monospace)',fontSize:"0.85rem",whiteSpace:"pre-wrap",margin:0,color:"var(--color-text-accent, #e8e6e1)",lineHeight:1.7},imagePreview:{padding:"1.5rem",textAlign:"center",background:"var(--color-bg, #0a0a0b)"},image:{maxWidth:"100%",maxHeight:"350px",borderRadius:"8px",boxShadow:"0 12px 24px -4px rgba(0, 0, 0, 0.5)"},imageAlt:{marginTop:"0.75rem",color:"var(--color-text-muted, #706d68)",fontSize:"0.875rem",fontStyle:"italic"}};export{q as default};
